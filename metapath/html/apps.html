@require(htmlbase, category, apps)

<html>
    <head>
        <title>Welcome to MetaPath</title>

    <link rel="stylesheet" type="text/css" href="foundation.min.css">

    <link rel="stylesheet" type="text/css" href="file:///@htmlbase/css/foundation.min.css">
    <link rel="stylesheet" type="text/css" href="file:///@htmlbase/css/normalize.css">
        
    <link rel="stylesheet" href="file:///@htmlbase/css/base.css">
    <base href="file:///@htmlbase/">
    <style>
        html, body {
            background:#f8f8f8 !important;
            }
            
        body {
            margin:1em;
            }
        
        .app {
            width:200px;
            height:200px;
            display: inline-block;
            box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.2);
            transition: all 200ms ease-out 0s;
            position:relative;
            background:#fff;
            width:100%;
            cursor:pointer;
            background-size: 200px 200px;
        }
        
        .app:hover {
            box-shadow: 0px 0px 6px 1px rgba(43, 166, 203, 0.5);
            }
        
        .app .meta {
            position:absolute;
            width:100%;
            bottom:0px;
            vertical-align:bottom;
            background-color:#fff;
            background-color:rgba(255,255,255,0.9);
            padding:1em;            
        }
        
        .app .description {
            font-size:0.8em;
        }
        
        
        </style>
<script>

    function delegateLink(url){
        QtWebView.delegateLink(url);
    }
</script>        
    </head>
    <body id="mainwindow">
        <h2>@category</h2>
        <ul class="large-block-grid-5">
            @for app in apps:
                <li><a class="app" href="metapath://app-manager/@app['id']/add"
                            @if app['image']:
                                style="background-image:url('file:///@app['image_forward_slashes']');"
                            @endif
                                onclick="return true; delegateLink('metapath://app-manager/@app['id']/add');">
                        <div class="meta">
                            <div class="name">@app['name']</div>
                            <div class="description">@app['description']</div>
                        </div>
                    </a>
                </li>
            @endfor
        </ul>
        @endfor

    </body>
</html>
